!function(){"use strict";var s={};s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(s){if("object"==typeof window)return window}}(),function(){var t;s.g.importScripts&&(t=s.g.location+"");var e=s.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var a=n.length-1;a>-1&&!t;)t=n[a--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=t}();const t=s.p+"./audio/win.c59a615a1da600c23dde.mp3",e=s.p+"./audio/flag.13a651bebe8f5a6f15ee.wav";var n,a=0,i=!1;function c(s){if(console.log(L),n=Number(s.getAttribute("id")),!(s.classList.contains("open")||s.classList.contains("flag")||h||s.classList.contains("bomb")||s.classList.contains("bomb-medium")||s.classList.contains("bomb-hard"))){var t=s.getAttribute("data");if(0!=t)switch(s.innerText=t,s.classList.add("open"),s.classList.add("number"),t){case"1":s.classList.add("one");break;case"2":s.classList.add("two");break;case"3":s.classList.add("three");break;case"4":s.classList.add("four")}document.querySelector(".active-easy")&&(function(s){var t=s%r==0,e=s%r==r-1;setTimeout((function(){if(s+1<=r*r-1&&!e&&!E[s].classList.contains("number")&&!E[s+1].classList.contains("open")&&!E[s+1].classList.contains("flag")&&!E[s+1].classList.contains("bomb")){var n=E[s+1].id;c(document.getElementById(n))}if(s-1>=0&&!t&&!E[s].classList.contains("number")&&!E[s-1].classList.contains("open")&&!E[s-1].classList.contains("flag")&&!E[s-1].classList.contains("bomb")){var a=E[s-1].id;c(document.getElementById(a))}if(s+r<=r*r-1&&!E[s].classList.contains("number")&&!E[s+r].classList.contains("open")&&!E[s+r].classList.contains("flag")&&!E[s+r].classList.contains("bomb")){var i=E[s+r].id;c(document.getElementById(i))}if(s+(r+1)<=r*r-1&&!e&&!E[s].classList.contains("number")&&!E[s+(r+1)].classList.contains("open")&&!E[s+(r+1)].classList.contains("flag")&&!E[s+(r+1)].classList.contains("bomb")){var o=E[s+(r+1)].id;c(document.getElementById(o))}if(s+(r-1)<=r*r-1&&!t&&!E[s].classList.contains("number")&&!E[s+(r-1)].classList.contains("open")&&!E[s+(r-1)].classList.contains("flag")&&!E[s+(r-1)].classList.contains("bomb")){var d=E[s+(r-1)].id;c(document.getElementById(d))}if(s-(r-1)>=0&&!e&&!E[s].classList.contains("number")&&!E[s-(r-1)].classList.contains("open")&&!E[s-(r-1)].classList.contains("flag")&&!E[s-(r-1)].classList.contains("bomb")){var l=E[s-(r-1)].id;c(document.getElementById(l))}if(s-r>=0&&!E[s].classList.contains("number")&&!E[s-r].classList.contains("open")&&!E[s-r].classList.contains("flag")&&!E[s-r].classList.contains("bomb")){var m=E[s-r].id;c(document.getElementById(m))}if(s-(r+1)>=0&&!t&&!E[s].classList.contains("number")&&!E[s-(r+1)].classList.contains("open")&&!E[s-(r+1)].classList.contains("flag")&&!E[s-(r+1)].classList.contains("bomb")){var L=E[s-(r+1)].id;c(document.getElementById(L))}}),50)}(n),console.log(n),E[n].classList.add("open")),document.querySelector(".active-medium")&&(function(s){var t=s%r==0,e=s%r==r-1;setTimeout((function(){if(s+1<=r*r-1&&!e&&!y[s].classList.contains("number")&&!y[s+1].classList.contains("open")&&!y[s+1].classList.contains("flag")&&!y[s+1].classList.contains("bomb-medium")){var n=y[s+1].id;c(document.getElementById(n))}if(s-1>=0&&!t&&!y[s].classList.contains("number")&&!y[s-1].classList.contains("open")&&!y[s-1].classList.contains("flag")&&!y[s-1].classList.contains("bomb-medium")){var a=y[s-1].id;c(document.getElementById(a))}if(s+r<=r*r-1&&!y[s].classList.contains("number")&&!y[s+r].classList.contains("open")&&!y[s+r].classList.contains("flag")&&!y[s+r].classList.contains("bomb-medium")){var i=y[s+r].id;c(document.getElementById(i))}if(s+(r+1)<=r*r-1&&!e&&!y[s].classList.contains("number")&&!y[s+(r+1)].classList.contains("open")&&!y[s+(r+1)].classList.contains("flag")&&!y[s+(r+1)].classList.contains("bomb-medium")){var o=y[s+(r+1)].id;c(document.getElementById(o))}if(s+(r-1)<=r*r-1&&!t&&!y[s].classList.contains("number")&&!y[s+(r-1)].classList.contains("open")&&!y[s+(r-1)].classList.contains("flag")&&!y[s+(r-1)].classList.contains("bomb-medium")){var d=y[s+(r-1)].id;c(document.getElementById(d))}if(s-(r-1)>=0&&!e&&!y[s].classList.contains("number")&&!y[s-(r-1)].classList.contains("open")&&!y[s-(r-1)].classList.contains("flag")&&!y[s-(r-1)].classList.contains("bomb-medium")){var l=y[s-(r-1)].id;c(document.getElementById(l))}if(s-r>=0&&!y[s].classList.contains("number")&&!y[s-r].classList.contains("open")&&!y[s-r].classList.contains("flag")&&!y[s-r].classList.contains("bomb-medium")){var m=y[s-r].id;c(document.getElementById(m))}if(s-(r+1)>=0&&!t&&!y[s].classList.contains("number")&&!y[s-(r+1)].classList.contains("open")&&!y[s-(r+1)].classList.contains("flag")&&!y[s-(r+1)].classList.contains("bomb-medium")){var L=y[s-(r+1)].id;c(document.getElementById(L))}}),50)}(n),console.log(n),y[n].classList.add("open")),document.querySelector(".active-hard")&&(function(s){var t=s%r==0,e=s%r==r-1;setTimeout((function(){if(s+1<=r*r-1&&!e&&!T[s].classList.contains("number")&&!T[s+1].classList.contains("open")&&!T[s+1].classList.contains("flag")&&!T[s+1].classList.contains("bomb-hard")){var n=T[s+1].id;c(document.getElementById(n))}if(s-1>=0&&!t&&!T[s].classList.contains("number")&&!T[s-1].classList.contains("open")&&!T[s-1].classList.contains("flag")&&!T[s-1].classList.contains("bomb-hard")){var a=T[s-1].id;c(document.getElementById(a))}if(s+r<=r*r-1&&!T[s].classList.contains("number")&&!T[s+r].classList.contains("open")&&!T[s+r].classList.contains("flag")&&!T[s+r].classList.contains("bomb-hard")){var i=T[s+r].id;c(document.getElementById(i))}if(s+(r+1)<=r*r-1&&!e&&!T[s].classList.contains("number")&&!T[s+(r+1)].classList.contains("open")&&!T[s+(r+1)].classList.contains("flag")&&!T[s+(r+1)].classList.contains("bomb-hard")){var o=T[s+(r+1)].id;c(document.getElementById(o))}if(s+(r-1)<=r*r-1&&!t&&!T[s].classList.contains("number")&&!T[s+(r-1)].classList.contains("open")&&!T[s+(r-1)].classList.contains("flag")&&!T[s+(r-1)].classList.contains("bomb-hard")){var d=T[s+(r-1)].id;c(document.getElementById(d))}if(s-(r-1)>=0&&!e&&!T[s].classList.contains("number")&&!T[s-(r-1)].classList.contains("open")&&!T[s-(r-1)].classList.contains("flag")&&!T[s-(r-1)].classList.contains("bomb-hard")){var l=T[s-(r-1)].id;c(document.getElementById(l))}if(s-r>=0&&!T[s].classList.contains("number")&&!T[s-r].classList.contains("open")&&!T[s-r].classList.contains("flag")&&!T[s-r].classList.contains("bomb-hard")){var m=T[s-r].id;c(document.getElementById(m))}if(s-(r+1)>=0&&!t&&!T[s].classList.contains("number")&&!T[s-(r+1)].classList.contains("open")&&!T[s-(r+1)].classList.contains("flag")&&!T[s-(r+1)].classList.contains("bomb-hard")){var L=T[s-(r+1)].id;c(document.getElementById(L))}}),50)}(n),console.log(n),T[n].classList.add("open"))}}function o(s){var n=document.querySelector(".drawFlag"),c=document.querySelector(".drawBombs");!h&&!s.classList.contains("open")&&a<m&&(s.classList.contains("flag")?(s.classList.remove("flag"),a--,n.innerText=a,c.innerText=m-a):(g&&new Audio(e).play(),s.classList.add("flag"),a++,n.innerText=a,c.innerText=m-a,function(){for(var s=0,t=0;t<E.length;t++)if(E[t].classList.contains("flag")&&E[t].classList.contains("bomb")&&s++,s===m){i=!0,clearInterval(u),document.querySelector(".gameSummary").innerText="HOORAY YOU WON!!!";for(var e=0;e<E.length;e++)E[e].classList.add("win")}for(var n=0;n<y.length;n++)if(y[n].classList.contains("flag")&&y[n].classList.contains("bomb-medium")&&s++,s===m){i=!0,clearInterval(u),document.querySelector(".gameSummary").innerText="HOORAY YOU WON!!!";for(var a=0;a<y.length;a++)y[a].classList.add("win")}for(var c=0;c<T.length;c++)if(T[c].classList.contains("flag")&&T[c].classList.contains("bomb-hard")&&s++,s===m){i=!0,clearInterval(u),document.querySelector(".gameSummary").innerText="HOORAY YOU WON!!!";for(var o=0;o<T.length;o++)T[o].classList.add("win")}}(),g&&i&&new Audio(t).play()))}const d=s.p+"./audio/loose.28fb0d430b5aab739121.wav",l=s.p+"./audio/open2.b84b86dd85540ed5d0b3.wav";var r,m,L,u,b,f,v,p=document.body,h=!1,g=!0,E=[],y=[],T=[],w=0,x=document.createElement("div"),_=document.createElement("header"),I=document.createElement("h1"),O=document.createElement("p"),C=document.createElement("div"),B=document.createElement("div"),A=document.createElement("div"),S=document.createElement("div"),k=document.createElement("div"),M=document.createElement("div"),H=document.createElement("div"),q=document.createElement("div"),Y=document.createElement("div"),D=document.createElement("div"),N=document.createElement("div"),U=document.createElement("div"),P=document.createElement("div"),F=document.createElement("div"),R=document.createElement("div"),W=document.createElement("div"),$=document.createElement("div"),j=document.createElement("div"),V=document.createElement("div"),z=document.createElement("div"),G=document.createElement("div"),J=document.createElement("div"),K=document.createElement("div"),Q=document.createElement("div"),X=document.createElement("div");function Z(){x.classList.add("container"),p.appendChild(x),_.classList.add("header"),x.appendChild(_),I.classList.add("header__title"),_.appendChild(I),I.innerText="minesweeper",C.classList.add("header__wrapper"),_.appendChild(C),B.classList.add("header__flag"),C.appendChild(B),B.innerText="flags",A.classList.add("drawFlag"),B.appendChild(A),A.innerText=0,S.classList.add("header__mines"),C.appendChild(S),S.innerText="mines",k.classList.add("drawBombs"),S.appendChild(k),M.classList.add("header__sound"),C.appendChild(M),M.innerText="sound",H.classList.add("drawSounds"),M.appendChild(H),H.innerText="pull",q.classList.add("header__start"),C.appendChild(q),q.innerText="start",Y.classList.add("drawStart"),q.appendChild(Y),Y.innerText="pull",D.classList.add("header__score"),C.appendChild(D),D.innerText="score",N.classList.add("drawList"),D.appendChild(N),N.innerText="list",V.classList.add("header__dark"),C.appendChild(V),V.innerText="Theme",z.classList.add("drawTheme"),V.appendChild(z),z.innerText="Dark",U.classList.add("header__level"),C.appendChild(U),U.innerText="level",P.classList.add("level__easy"),U.appendChild(P),P.innerText="easy",F.classList.add("level__medium"),U.appendChild(F),F.innerText="medium",R.classList.add("level__hard"),U.appendChild(R),R.innerText="hard",W.classList.add("minesweeper1"),x.appendChild(W),$.classList.add("minesweeper2"),x.appendChild($),j.classList.add("minesweeper3"),x.appendChild(j),O.classList.add("gameSummary"),x.appendChild(O),O.innerText="",G.classList.add("timer"),x.appendChild(G),J.classList.add("timer__draw"),G.appendChild(J),J.innerText="YOU TIME: ",K.classList.add("timer__draw"),G.appendChild(K),K.innerText="YOU MOVE: ",Q.classList.add("timer__sec"),J.appendChild(Q),Q.innerText="0",X.classList.add("timer__mov"),K.appendChild(X),X.innerText=w,g&&H.classList.add("active-music"),R.classList.contains("active-hard")||P.classList.contains("active-easy")||F.classList.contains("active-medium")||(P.classList.add("active-easy"),$.classList.add("hide"),j.classList.add("hide"),L=1,r=10,m=10,k.innerText=m,$.innerHTML="",j.innerHTML="",ss(r,m,L),function(s){s.forEach((function(t){t.addEventListener("click",(function(e){e.preventDefault(),w++,X.innerText=w,t.classList.contains("bomb")&&(h=!0,clearInterval(u),O.innerText="BOOM! OOPS YOU LOST!",g&&new Audio(d).play(),s.forEach((function(s){s.classList.contains("bomb")&&s.classList.contains("bomb")&&s.classList.add("bomb-open")}))),t.classList.contains("flag")||(c(t),g&&new Audio(l).play())}))})),s.forEach((function(s){s.addEventListener("contextmenu",(function(s){s.preventDefault(),o(s.target)}))}))}(E),console.log(E)),F.classList.contains("active-medium")&&(L=2,r=15,m=25,k.innerText=m,W.innerHTML="",j.innerHTML="",ss(r,m,L),function(s){s.forEach((function(t){t.addEventListener("click",(function(e){w++,X.innerText=w,e.preventDefault(),t.classList.contains("bomb-medium")&&(h=!0,clearInterval(u),O.innerText="BOOM! OOPS YOU LOST!",g&&new Audio(d).play(),s.forEach((function(s){s.classList.contains("bomb-medium")&&s.classList.add("bomb-open")}))),t.classList.contains("flag")||(c(t),g&&new Audio(l).play())}))})),s.forEach((function(s){s.addEventListener("contextmenu",(function(s){s.preventDefault(),o(s.target)}))}))}(y),console.log(y)),R.classList.contains("active-hard")&&(L=3,r=25,m=65,k.innerText=m,W.innerHTML="",$.innerHTML="",ss(r,m,L),function(s){s.forEach((function(t){t.addEventListener("click",(function(e){w++,X.innerText=w,e.preventDefault(),t.classList.contains("bomb-hard")&&(h=!0,clearInterval(u),O.innerText="BOOM! OOPS YOU LOST!",g&&new Audio(d).play(),s.forEach((function(s){s.classList.contains("bomb-hard")&&s.classList.add("bomb-open")}))),t.classList.contains("flag")||(c(t),g&&new Audio(l).play())}))})),s.forEach((function(s){s.addEventListener("contextmenu",(function(s){s.preventDefault(),o(s.target)}))}))}(T),console.log(T)),U.addEventListener("click",(function(s){s.preventDefault(),s.target.classList.contains("level__easy")&&(P.classList.add("active-easy"),F.classList.remove("active-medium"),R.classList.remove("active-hard"),document.innerHTML="",Z(),W.classList.remove("hide"),$.classList.add("hide"),j.classList.add("hide")),s.target.classList.contains("level__medium")&&(F.classList.add("active-medium"),P.classList.remove("active-easy"),R.classList.remove("active-hard"),document.innerHTML="",Z(),W.classList.add("hide"),$.classList.remove("hide"),j.classList.add("hide")),s.target.classList.contains("level__hard")&&(R.classList.add("active-hard"),P.classList.remove("active-easy"),F.classList.remove("active-medium"),document.innerHTML="",Z(),W.classList.add("hide"),$.classList.add("hide"),j.classList.remove("hide"))}))}function ss(s,t,e){if(1===e){b=Array(t).fill("bomb"),f=Array(s*s-t).fill("field"),v=f.concat(b).sort((function(){return Math.random()-.5}));for(var n=0;n<s*s;n++){var a=document.createElement("div");a.classList.add(v[n]),a.setAttribute("id",n),document.querySelector(".minesweeper1").appendChild(a),E.push(a)}for(var i=0;i<E.length;i++){var c=0,o=i%s==0,d=i%s==s-1;E[i].classList.contains("field")&&(i-1>=0&&!o&&E[i-1].classList.contains("bomb")&&c++,i+(s-1)<=s*s-1&&!o&&E[i+(s-1)].classList.contains("bomb")&&c++,i-s>=0&&E[i-s].classList.contains("bomb")&&c++,i-(s-1)>=0&&!d&&E[i-(s-1)].classList.contains("bomb")&&c++,i+1<=s*s-1&&!d&&E[i+1].classList.contains("bomb")&&c++,i-(s+1)>=0&&!o&&E[i-(s+1)].classList.contains("bomb")&&c++,i+(s+1)<=s*s-1&&!d&&E[i+(s+1)].classList.contains("bomb")&&c++,i+s<=s*s-1&&E[i+s].classList.contains("bomb")&&c++,E[i].setAttribute("data",c))}}if(2===e){b=Array(t).fill("bomb-medium"),f=Array(s*s-t).fill("field-medium"),v=f.concat(b).sort((function(){return Math.random()-.5}));for(var l=0;l<s*s;l++){var r=document.createElement("div");r.classList.add(v[l]),r.setAttribute("id",l),document.querySelector(".minesweeper2").appendChild(r),y.push(r)}for(var m=0;m<y.length;m++){var L=0,u=m%s==0,p=m%s==s-1;y[m].classList.contains("field-medium")&&(m-1>=0&&!u&&y[m-1].classList.contains("bomb-medium")&&L++,m+(s-1)<=s*s-1&&!u&&y[m+(s-1)].classList.contains("bomb-medium")&&L++,m-s>=0&&y[m-s].classList.contains("bomb-medium")&&L++,m-(s-1)>=0&&!p&&y[m-(s-1)].classList.contains("bomb-medium")&&L++,m+1<=s*s-1&&!p&&y[m+1].classList.contains("bomb-medium")&&L++,m-(s+1)>=0&&!u&&y[m-(s+1)].classList.contains("bomb-medium")&&L++,m+(s+1)<=s*s-1&&!p&&y[m+(s+1)].classList.contains("bomb-medium")&&L++,m+s<=s*s-1&&y[m+s].classList.contains("bomb-medium")&&L++,y[m].setAttribute("data",L))}}if(3===e){b=Array(t).fill("bomb-hard"),f=Array(s*s-t).fill("field-hard"),v=f.concat(b).sort((function(){return Math.random()-.5}));for(var h=0;h<s*s;h++){var g=document.createElement("div");g.classList.add(v[h]),g.setAttribute("id",h),document.querySelector(".minesweeper3").appendChild(g),T.push(g)}for(var w=0;w<T.length;w++){var x=0,_=w%s==0,I=w%s==s-1;T[w].classList.contains("field-hard")&&(w-1>=0&&!_&&T[w-1].classList.contains("bomb-hard")&&x++,w+(s-1)<=s*s-1&&!_&&T[w+(s-1)].classList.contains("bomb-hard")&&x++,w-s>=0&&T[w-s].classList.contains("bomb-hard")&&x++,w-(s-1)>=0&&!I&&T[w-(s-1)].classList.contains("bomb-hard")&&x++,w+1<=s*s-1&&!I&&T[w+1].classList.contains("bomb-hard")&&x++,w-(s+1)>=0&&!_&&T[w-(s+1)].classList.contains("bomb-hard")&&x++,w+(s+1)<=s*s-1&&!I&&T[w+(s+1)].classList.contains("bomb-hard")&&x++,w+s<=s*s-1&&T[w+s].classList.contains("bomb-hard")&&x++,T[w].setAttribute("data",x))}}}Y.addEventListener("click",(function(s){s.preventDefault(),console.log("restart"),location.reload(),Z()})),z.addEventListener("click",(function(){z.classList.contains("active-dark")?(z.classList.remove("active-dark"),document.body.classList.remove("dark")):(z.classList.add("active-dark"),document.body.classList.add("dark"))})),H.addEventListener("click",(function(){H.classList.contains("active-music")?(H.classList.remove("active-music"),g=!1):(H.classList.add("active-music"),g=!0)})),document.addEventListener("mousedown",(function s(t){console.log(t.target),(t.target.parentNode.classList.contains("minesweeper1")||t.target.parentNode.classList.contains("minesweeper2")||t.target.parentNode.classList.contains("minesweeper2"))&&(document.removeEventListener("mousedown",s),console.log("I work"),u=setInterval((function(){Q.innerText=+Q.innerText+1}),1e3))})),Z()}();