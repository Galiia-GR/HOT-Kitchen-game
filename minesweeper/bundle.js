!function(){"use strict";var s,t=0;function n(t){if(console.log(c),s=Number(t.getAttribute("id")),!(t.classList.contains("open")||t.classList.contains("flag")||m||t.classList.contains("bomb")||t.classList.contains("bomb-medium")||t.classList.contains("bomb-hard"))){var a=t.getAttribute("data");if(0!=a)switch(t.innerText=a,t.classList.add("open"),t.classList.add("number"),a){case"1":t.classList.add("one");break;case"2":t.classList.add("two");break;case"3":t.classList.add("three");break;case"4":t.classList.add("four")}document.querySelector(".active-easy")&&(function(s){var t=s%e==0,a=s%e==e-1;setTimeout((function(){if(s+1<=e*e-1&&!a&&!L[s].classList.contains("number")&&!L[s+1].classList.contains("open")&&!L[s+1].classList.contains("flag")&&!L[s+1].classList.contains("bomb")){var i=L[s+1].id;n(document.getElementById(i))}if(s-1>=0&&!t&&!L[s].classList.contains("number")&&!L[s-1].classList.contains("open")&&!L[s-1].classList.contains("flag")&&!L[s-1].classList.contains("bomb")){var c=L[s-1].id;n(document.getElementById(c))}if(s+e<=e*e-1&&!L[s].classList.contains("number")&&!L[s+e].classList.contains("open")&&!L[s+e].classList.contains("flag")&&!L[s+e].classList.contains("bomb")){var o=L[s+e].id;n(document.getElementById(o))}if(s+(e+1)<=e*e-1&&!a&&!L[s].classList.contains("number")&&!L[s+(e+1)].classList.contains("open")&&!L[s+(e+1)].classList.contains("flag")&&!L[s+(e+1)].classList.contains("bomb")){var d=L[s+(e+1)].id;n(document.getElementById(d))}if(s+(e-1)<=e*e-1&&!t&&!L[s].classList.contains("number")&&!L[s+(e-1)].classList.contains("open")&&!L[s+(e-1)].classList.contains("flag")&&!L[s+(e-1)].classList.contains("bomb")){var l=L[s+(e-1)].id;n(document.getElementById(l))}if(s-(e-1)>=0&&!a&&!L[s].classList.contains("number")&&!L[s-(e-1)].classList.contains("open")&&!L[s-(e-1)].classList.contains("flag")&&!L[s-(e-1)].classList.contains("bomb")){var r=L[s-(e-1)].id;n(document.getElementById(r))}if(s-e>=0&&!L[s].classList.contains("number")&&!L[s-e].classList.contains("open")&&!L[s-e].classList.contains("flag")&&!L[s-e].classList.contains("bomb")){var m=L[s-e].id;n(document.getElementById(m))}if(s-(e+1)>=0&&!t&&!L[s].classList.contains("number")&&!L[s-(e+1)].classList.contains("open")&&!L[s-(e+1)].classList.contains("flag")&&!L[s-(e+1)].classList.contains("bomb")){var u=L[s-(e+1)].id;n(document.getElementById(u))}}),50)}(s),console.log(s),L[s].classList.add("open")),document.querySelector(".active-medium")&&(function(s){var t=s%e==0,a=s%e==e-1;setTimeout((function(){if(s+1<=e*e-1&&!a&&!u[s].classList.contains("number")&&!u[s+1].classList.contains("open")&&!u[s+1].classList.contains("flag")&&!u[s+1].classList.contains("bomb-medium")){var i=u[s+1].id;n(document.getElementById(i))}if(s-1>=0&&!t&&!u[s].classList.contains("number")&&!u[s-1].classList.contains("open")&&!u[s-1].classList.contains("flag")&&!u[s-1].classList.contains("bomb-medium")){var c=u[s-1].id;n(document.getElementById(c))}if(s+e<=e*e-1&&!u[s].classList.contains("number")&&!u[s+e].classList.contains("open")&&!u[s+e].classList.contains("flag")&&!u[s+e].classList.contains("bomb-medium")){var o=u[s+e].id;n(document.getElementById(o))}if(s+(e+1)<=e*e-1&&!a&&!u[s].classList.contains("number")&&!u[s+(e+1)].classList.contains("open")&&!u[s+(e+1)].classList.contains("flag")&&!u[s+(e+1)].classList.contains("bomb-medium")){var d=u[s+(e+1)].id;n(document.getElementById(d))}if(s+(e-1)<=e*e-1&&!t&&!u[s].classList.contains("number")&&!u[s+(e-1)].classList.contains("open")&&!u[s+(e-1)].classList.contains("flag")&&!u[s+(e-1)].classList.contains("bomb-medium")){var l=u[s+(e-1)].id;n(document.getElementById(l))}if(s-(e-1)>=0&&!a&&!u[s].classList.contains("number")&&!u[s-(e-1)].classList.contains("open")&&!u[s-(e-1)].classList.contains("flag")&&!u[s-(e-1)].classList.contains("bomb-medium")){var r=u[s-(e-1)].id;n(document.getElementById(r))}if(s-e>=0&&!u[s].classList.contains("number")&&!u[s-e].classList.contains("open")&&!u[s-e].classList.contains("flag")&&!u[s-e].classList.contains("bomb-medium")){var m=u[s-e].id;n(document.getElementById(m))}if(s-(e+1)>=0&&!t&&!u[s].classList.contains("number")&&!u[s-(e+1)].classList.contains("open")&&!u[s-(e+1)].classList.contains("flag")&&!u[s-(e+1)].classList.contains("bomb-medium")){var L=u[s-(e+1)].id;n(document.getElementById(L))}}),50)}(s),console.log(s),u[s].classList.add("open")),document.querySelector(".active-hard")&&(function(s){var t=s%e==0,a=s%e==e-1;setTimeout((function(){if(s+1<=e*e-1&&!a&&!b[s].classList.contains("number")&&!b[s+1].classList.contains("open")&&!b[s+1].classList.contains("flag")&&!b[s+1].classList.contains("bomb-hard")){var i=b[s+1].id;n(document.getElementById(i))}if(s-1>=0&&!t&&!b[s].classList.contains("number")&&!b[s-1].classList.contains("open")&&!b[s-1].classList.contains("flag")&&!b[s-1].classList.contains("bomb-hard")){var c=b[s-1].id;n(document.getElementById(c))}if(s+e<=e*e-1&&!b[s].classList.contains("number")&&!b[s+e].classList.contains("open")&&!b[s+e].classList.contains("flag")&&!b[s+e].classList.contains("bomb-hard")){var o=b[s+e].id;n(document.getElementById(o))}if(s+(e+1)<=e*e-1&&!a&&!b[s].classList.contains("number")&&!b[s+(e+1)].classList.contains("open")&&!b[s+(e+1)].classList.contains("flag")&&!b[s+(e+1)].classList.contains("bomb-hard")){var d=b[s+(e+1)].id;n(document.getElementById(d))}if(s+(e-1)<=e*e-1&&!t&&!b[s].classList.contains("number")&&!b[s+(e-1)].classList.contains("open")&&!b[s+(e-1)].classList.contains("flag")&&!b[s+(e-1)].classList.contains("bomb-hard")){var l=b[s+(e-1)].id;n(document.getElementById(l))}if(s-(e-1)>=0&&!a&&!b[s].classList.contains("number")&&!b[s-(e-1)].classList.contains("open")&&!b[s-(e-1)].classList.contains("flag")&&!b[s-(e-1)].classList.contains("bomb-hard")){var r=b[s-(e-1)].id;n(document.getElementById(r))}if(s-e>=0&&!b[s].classList.contains("number")&&!b[s-e].classList.contains("open")&&!b[s-e].classList.contains("flag")&&!b[s-e].classList.contains("bomb-hard")){var m=b[s-e].id;n(document.getElementById(m))}if(s-(e+1)>=0&&!t&&!b[s].classList.contains("number")&&!b[s-(e+1)].classList.contains("open")&&!b[s-(e+1)].classList.contains("flag")&&!b[s-(e+1)].classList.contains("bomb-hard")){var L=b[s-(e+1)].id;n(document.getElementById(L))}}),50)}(s),console.log(s),b[s].classList.add("open"))}}function a(s){var n=document.querySelector(".drawFlag"),a=document.querySelector(".drawBombs");m||!s.classList.contains("open")&&t<i&&(s.classList.contains("flag")?(s.classList.remove("flag"),t--,n.innerText=t,a.innerText=i-t):(s.classList.add("flag"),t++,n.innerText=t,a.innerText=i-t,function(){for(var s=0,t=0;t<L.length;t++)if(L[t].classList.contains("flag")&&L[t].classList.contains("bomb")&&s++,s===i){document.querySelector(".gameSummary").innerText="HOORAY YOU WON!!!";for(var n=0;n<L.length;n++)L[n].classList.add("open")}}()))}var e,i,c,o,d,l,r=document.body,m=!1,L=[],u=[],b=[],f=document.createElement("div"),v=document.createElement("header"),p=document.createElement("h1"),h=document.createElement("p"),g=document.createElement("div"),E=document.createElement("div"),y=document.createElement("div"),T=document.createElement("div"),x=document.createElement("div"),B=document.createElement("div"),_=document.createElement("div"),C=document.createElement("div"),I=document.createElement("div"),O=document.createElement("div"),S=document.createElement("div"),w=document.createElement("div"),A=document.createElement("div"),M=document.createElement("div"),H=document.createElement("div"),q=document.createElement("div"),k=document.createElement("div"),D=document.createElement("div");function Y(){f.classList.add("container"),r.appendChild(f),v.classList.add("header"),f.appendChild(v),p.classList.add("header__title"),v.appendChild(p),p.innerText="minesweeper",g.classList.add("header__wrapper"),v.appendChild(g),E.classList.add("header__flag"),g.appendChild(E),E.innerText="flags",y.classList.add("drawFlag"),E.appendChild(y),y.innerText=0,T.classList.add("header__mines"),g.appendChild(T),T.innerText="mines",x.classList.add("drawBombs"),T.appendChild(x),B.classList.add("header__sound"),g.appendChild(B),B.innerText="sound",_.classList.add("drawSounds"),B.appendChild(_),_.innerText="pull",C.classList.add("header__start"),g.appendChild(C),C.innerText="start",I.classList.add("drawStart"),C.appendChild(I),I.innerText="pull",O.classList.add("header__score"),g.appendChild(O),O.innerText="score",S.classList.add("drawList"),O.appendChild(S),S.innerText="list",w.classList.add("header__level"),g.appendChild(w),w.innerText="level",A.classList.add("level__easy"),w.appendChild(A),A.innerText="easy",M.classList.add("level__medium"),w.appendChild(M),M.innerText="medium",H.classList.add("level__hard"),w.appendChild(H),H.innerText="hard",q.classList.add("minesweeper1"),f.appendChild(q),k.classList.add("minesweeper2"),f.appendChild(k),D.classList.add("minesweeper3"),f.appendChild(D),h.classList.add("gameSummary"),f.appendChild(h),h.innerText="",H.classList.contains("active-hard")||A.classList.contains("active-easy")||M.classList.contains("active-medium")||(A.classList.add("active-easy"),k.classList.add("hide"),D.classList.add("hide"),c=1,e=10,i=10,x.innerText=i,k.innerHTML="",D.innerHTML="",U(e,i,c),function(s){s.forEach((function(t){t.addEventListener("click",(function(a){a.preventDefault(),t.classList.contains("bomb")&&(m=!0,h.innerText="BOOM! OOPS YOU LOST!",s.forEach((function(s){s.classList.contains("bomb")&&s.classList.contains("bomb")&&s.classList.add("bomb-open")}))),t.classList.contains("flag")||n(t)}))})),s.forEach((function(s){s.addEventListener("contextmenu",(function(s){s.preventDefault(),a(s.target)}))}))}(L),console.log(L)),M.classList.contains("active-medium")&&(c=2,e=15,i=25,x.innerText=i,q.innerHTML="",D.innerHTML="",U(e,i,c),function(s){s.forEach((function(t){t.addEventListener("click",(function(a){a.preventDefault(),t.classList.contains("bomb-medium")&&(m=!0,h.innerText="BOOM! OOPS YOU LOST!",s.forEach((function(s){s.classList.contains("bomb-medium")&&s.classList.add("bomb-open")}))),t.classList.contains("flag")||n(t)}))})),s.forEach((function(s){s.addEventListener("contextmenu",(function(s){s.preventDefault(),a(s.target)}))}))}(u),console.log(u)),H.classList.contains("active-hard")&&(c=3,e=25,i=65,x.innerText=i,q.innerHTML="",k.innerHTML="",U(e,i,c),function(s){s.forEach((function(t){t.addEventListener("click",(function(a){a.preventDefault(),t.classList.contains("bomb-hard")&&(m=!0,h.innerText="BOOM! OOPS YOU LOST!",s.forEach((function(s){s.classList.contains("bomb-hard")&&s.classList.add("bomb-open")}))),t.classList.contains("flag")||n(t)}))})),s.forEach((function(s){s.addEventListener("contextmenu",(function(s){s.preventDefault(),a(s.target)}))}))}(b),console.log(b)),w.addEventListener("click",(function(s){s.preventDefault(),s.target.classList.contains("level__easy")&&(A.classList.add("active-easy"),M.classList.remove("active-medium"),H.classList.remove("active-hard"),document.innerHTML="",Y(),q.classList.remove("hide"),k.classList.add("hide"),D.classList.add("hide")),s.target.classList.contains("level__medium")&&(M.classList.add("active-medium"),A.classList.remove("active-easy"),H.classList.remove("active-hard"),document.innerHTML="",Y(),q.classList.add("hide"),k.classList.remove("hide"),D.classList.add("hide")),s.target.classList.contains("level__hard")&&(H.classList.add("active-hard"),A.classList.remove("active-easy"),M.classList.remove("active-medium"),document.innerHTML="",Y(),q.classList.add("hide"),k.classList.add("hide"),D.classList.remove("hide"))}))}function U(s,t,n){if(1===n){o=Array(t).fill("bomb"),d=Array(s*s-t).fill("field"),l=d.concat(o).sort((function(){return Math.random()-.5}));for(var a=0;a<s*s;a++){var e=document.createElement("div");e.classList.add(l[a]),e.setAttribute("id",a),document.querySelector(".minesweeper1").appendChild(e),L.push(e)}for(var i=0;i<L.length;i++){var c=0,r=i%s==0,m=i%s==s-1;L[i].classList.contains("field")&&(i-1>=0&&!r&&L[i-1].classList.contains("bomb")&&c++,i+(s-1)<=s*s-1&&!r&&L[i+(s-1)].classList.contains("bomb")&&c++,i-s>=0&&L[i-s].classList.contains("bomb")&&c++,i-(s-1)>=0&&!m&&L[i-(s-1)].classList.contains("bomb")&&c++,i+1<=s*s-1&&!m&&L[i+1].classList.contains("bomb")&&c++,i-(s+1)>=0&&!r&&L[i-(s+1)].classList.contains("bomb")&&c++,i+(s+1)<=s*s-1&&!m&&L[i+(s+1)].classList.contains("bomb")&&c++,i+s<=s*s-1&&L[i+s].classList.contains("bomb")&&c++,L[i].setAttribute("data",c))}}if(2===n){o=Array(t).fill("bomb-medium"),d=Array(s*s-t).fill("field-medium"),l=d.concat(o).sort((function(){return Math.random()-.5}));for(var f=0;f<s*s;f++){var v=document.createElement("div");v.classList.add(l[f]),v.setAttribute("id",f),document.querySelector(".minesweeper2").appendChild(v),u.push(v)}for(var p=0;p<u.length;p++){var h=0,g=p%s==0,E=p%s==s-1;u[p].classList.contains("field-medium")&&(p-1>=0&&!g&&u[p-1].classList.contains("bomb-medium")&&h++,p+(s-1)<=s*s-1&&!g&&u[p+(s-1)].classList.contains("bomb-medium")&&h++,p-s>=0&&u[p-s].classList.contains("bomb-medium")&&h++,p-(s-1)>=0&&!E&&u[p-(s-1)].classList.contains("bomb-medium")&&h++,p+1<=s*s-1&&!E&&u[p+1].classList.contains("bomb-medium")&&h++,p-(s+1)>=0&&!g&&u[p-(s+1)].classList.contains("bomb-medium")&&h++,p+(s+1)<=s*s-1&&!E&&u[p+(s+1)].classList.contains("bomb-medium")&&h++,p+s<=s*s-1&&u[p+s].classList.contains("bomb-medium")&&h++,u[p].setAttribute("data",h))}}if(3===n){o=Array(t).fill("bomb-hard"),d=Array(s*s-t).fill("field-hard"),l=d.concat(o).sort((function(){return Math.random()-.5}));for(var y=0;y<s*s;y++){var T=document.createElement("div");T.classList.add(l[y]),T.setAttribute("id",y),document.querySelector(".minesweeper3").appendChild(T),b.push(T)}for(var x=0;x<b.length;x++){var B=0,_=x%s==0,C=x%s==s-1;b[x].classList.contains("field-hard")&&(x-1>=0&&!_&&b[x-1].classList.contains("bomb-hard")&&B++,x+(s-1)<=s*s-1&&!_&&b[x+(s-1)].classList.contains("bomb-hard")&&B++,x-s>=0&&b[x-s].classList.contains("bomb-hard")&&B++,x-(s-1)>=0&&!C&&b[x-(s-1)].classList.contains("bomb-hard")&&B++,x+1<=s*s-1&&!C&&b[x+1].classList.contains("bomb-hard")&&B++,x-(s+1)>=0&&!_&&b[x-(s+1)].classList.contains("bomb-hard")&&B++,x+(s+1)<=s*s-1&&!C&&b[x+(s+1)].classList.contains("bomb-hard")&&B++,x+s<=s*s-1&&b[x+s].classList.contains("bomb-hard")&&B++,b[x].setAttribute("data",B))}}}I.addEventListener("click",(function(s){s.preventDefault(),console.log("restart"),location.reload(),Y()})),Y()}();