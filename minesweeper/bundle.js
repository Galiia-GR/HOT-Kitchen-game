!function(){"use strict";var s,t=0;function a(t){if(s=Number(t.getAttribute("id")),!(t.classList.contains("open")||t.classList.contains("flag")||r||t.classList.contains("bomb"))){var e=t.getAttribute("data");if(0!=e)switch(t.innerText=e,t.classList.add("open"),t.classList.add("number"),e){case"1":t.classList.add("one");break;case"2":t.classList.add("two");break;case"3":t.classList.add("three");break;case"4":t.classList.add("four")}!function(s){var t=s%n==0,e=s%n==n-1;setTimeout((function(){if(s+1<=n*n-1&&!e&&!m[s].classList.contains("number")&&!m[s+1].classList.contains("open")&&!m[s+1].classList.contains("flag")&&!m[s+1].classList.contains("bomb")){var i=m[s+1].id;a(document.getElementById(i))}if(s-1>=0&&!t&&!m[s].classList.contains("number")&&!m[s-1].classList.contains("open")&&!m[s-1].classList.contains("flag")&&!m[s-1].classList.contains("bomb")){var c=m[s-1].id;a(document.getElementById(c))}if(s+n<=n*n-1&&!m[s].classList.contains("number")&&!m[s+n].classList.contains("open")&&!m[s+n].classList.contains("flag")&&!m[s+n].classList.contains("bomb")){var d=m[s+n].id;a(document.getElementById(d))}if(s+(n+1)<=n*n-1&&!e&&!m[s].classList.contains("number")&&!m[s+(n+1)].classList.contains("open")&&!m[s+(n+1)].classList.contains("flag")&&!m[s+(n+1)].classList.contains("bomb")){var l=m[s+(n+1)].id;a(document.getElementById(l))}if(s+(n-1)<=n*n-1&&!t&&!m[s].classList.contains("number")&&!m[s+(n-1)].classList.contains("open")&&!m[s+(n-1)].classList.contains("flag")&&!m[s+(n-1)].classList.contains("bomb")){var o=m[s+(n-1)].id;a(document.getElementById(o))}if(s-(n-1)>=0&&!e&&!m[s].classList.contains("number")&&!m[s-(n-1)].classList.contains("open")&&!m[s-(n-1)].classList.contains("flag")&&!m[s-(n-1)].classList.contains("bomb")){var r=m[s-(n-1)].id;a(document.getElementById(r))}if(s-n>=0&&!m[s].classList.contains("number")&&!m[s-n].classList.contains("open")&&!m[s-n].classList.contains("flag")&&!m[s-n].classList.contains("bomb")){var L=m[s-n].id;a(document.getElementById(L))}if(s-(n+1)>=0&&!t&&!m[s].classList.contains("number")&&!m[s-(n+1)].classList.contains("open")&&!m[s-(n+1)].classList.contains("flag")&&!m[s-(n+1)].classList.contains("bomb")){var u=m[s-(n+1)].id;a(document.getElementById(u))}}),50)}(s),m[s].classList.add("open")}}function e(s){var a=document.querySelector(".drawFlag"),e=document.querySelector(".drawBombs");r||!s.classList.contains("open")&&t<i&&(s.classList.contains("flag")?(s.classList.remove("flag"),t--,a.innerText=t,e.innerText=i-t):(s.classList.add("flag"),t++,a.innerText=t,e.innerText=i-t,function(){for(var s=0,t=0;t<m.length;t++)if(m[t].classList.contains("flag")&&m[t].classList.contains("bomb")&&s++,s===i){document.querySelector(".gameSummary").innerText="HOORAY YOU WON!!!";for(var a=0;a<m.length;a++)m[a].classList.add("open")}}()))}var n,i,c,d,l,o=document.body,r=!1,m=[];function L(s,t){c=Array(t).fill("bomb"),d=Array(s*s-t).fill("field"),l=d.concat(c).sort((function(){return Math.random()-.5}));for(var a=0;a<s*s;a++){var e=document.createElement("div");e.classList.add(l[a]),e.setAttribute("id",a),document.querySelector(".minesweeper").appendChild(e),m.push(e)}for(var n=0;n<m.length;n++){var i=0,o=n%s==0,r=n%s==s-1;m[n].classList.contains("field")&&(n-1>=0&&!o&&m[n-1].classList.contains("bomb")&&i++,n+(s-1)<=s*s-1&&!o&&m[n+(s-1)].classList.contains("bomb")&&i++,n-s>=0&&m[n-s].classList.contains("bomb")&&i++,n-(s-1)>=0&&!r&&m[n-(s-1)].classList.contains("bomb")&&i++,n+1<=s*s-1&&!r&&m[n+1].classList.contains("bomb")&&i++,n-(s+1)>=0&&!o&&m[n-(s+1)].classList.contains("bomb")&&i++,n+(s+1)<=s*s-1&&!r&&m[n+(s+1)].classList.contains("bomb")&&i++,n+s<=s*s-1&&m[n+s].classList.contains("bomb")&&i++,m[n].setAttribute("data",i))}return m}!function(){var s=document.createElement("div");s.classList.add("container"),o.appendChild(s);var t=document.createElement("header");t.classList.add("header"),s.appendChild(t);var c=document.createElement("h1");c.classList.add("header__title"),t.appendChild(c),c.innerText="minesweeper";var d=document.createElement("p");d.classList.add("gameSummary"),t.appendChild(d),d.innerText="Please choose level";var l=document.createElement("div");l.classList.add("header__wrapper"),t.appendChild(l);var u=document.createElement("div");u.classList.add("header__flag"),l.appendChild(u),u.innerText="flags";var v=document.createElement("div");v.classList.add("drawFlag"),u.appendChild(v),v.innerText=0;var f=document.createElement("div");f.classList.add("header__mines"),l.appendChild(f),f.innerText="mines";var b=document.createElement("div");b.classList.add("drawBombs"),f.appendChild(b);var p=document.createElement("div");p.classList.add("header__sound"),l.appendChild(p),p.innerText="sound";var h=document.createElement("div");h.classList.add("drawSounds"),p.appendChild(h),h.innerText="pull";var E=document.createElement("div");E.classList.add("header__start"),l.appendChild(E),E.innerText="start";var g=document.createElement("div");g.classList.add("drawStart"),E.appendChild(g),g.innerText="pull";var T=document.createElement("div");T.classList.add("header__score"),l.appendChild(T),T.innerText="score";var x=document.createElement("div");x.classList.add("drawList"),T.appendChild(x),x.innerText="list";var _=document.createElement("div");_.classList.add("header__level"),l.appendChild(_),_.innerText="level";var y=document.createElement("div");y.classList.add("level__easy"),_.appendChild(y),y.innerText="easy";var O=document.createElement("div");O.classList.add("level__medium"),_.appendChild(O),O.innerText="medium";var C=document.createElement("div");C.classList.add("level__hard"),_.appendChild(C),C.innerText="hard";var S=document.createElement("div");S.classList.add("minesweeper"),s.appendChild(S),g.addEventListener("click",(function(s){s.preventDefault(),location.reload()})),_.addEventListener("click",(function(s){s.preventDefault(),s.target.classList.contains("level__easy")&&(y.classList.add("active-easy"),y.classList.contains("active-easy")&&(n=10,i=10,b.innerText=i,L(n,i),m.forEach((function(s){s.addEventListener("click",(function(t){t.preventDefault(),s.classList.contains("bomb")&&(r=!0,d.innerText="BOOM! OOPS YOU LOST!",m.forEach((function(s){s.classList.contains("bomb")&&s.classList.contains("bomb")&&s.classList.add("bomb-open")}))),s.classList.contains("flag")||a(s)}))})),m.forEach((function(s){s.addEventListener("contextmenu",(function(s){s.preventDefault(),e(s.target)}))})))),s.target.classList.contains("level__medium")&&(O.classList.add("active-medium"),function(){if(O.classList.contains("active-medium")){n=15,i=15,b.innerText=i,L(n,i);for(var s=0;s<m.length;s++)m[s].classList.contains("field")&&m[s].classList.add("field-medium"),m[s].classList.contains("bomb")&&m[s].classList.add("bomb-medium");m.forEach((function(s){s.addEventListener("click",(function(t){t.preventDefault(),s.classList.contains("bomb")&&(r=!0,d.innerText="BOOM! OOPS YOU LOST!",m.forEach((function(s){s.classList.contains("bomb")&&s.classList.contains("bomb")&&s.classList.add("bomb-open")}))),s.classList.contains("flag")||a(s)}))}))}m.forEach((function(s){s.addEventListener("contextmenu",(function(s){s.preventDefault(),e(s.target)}))}))}()),s.target.classList.contains("level__hard")&&(C.classList.add("active-hard"),function(){if(C.classList.contains("active-hard")){n=25,i=35,b.innerText=i,L(n,i);for(var s=0;s<m.length;s++)m[s].classList.contains("field")&&m[s].classList.add("field-hard"),m[s].classList.contains("bomb")&&m[s].classList.add("bomb-hard");m.forEach((function(s){s.addEventListener("click",(function(t){t.preventDefault(),s.classList.contains("bomb")&&(r=!0,d.innerText="BOOM! OOPS YOU LOST!",m.forEach((function(s){s.classList.contains("bomb")&&s.classList.add("bomb-open")}))),s.classList.contains("flag")||a(s)}))})),m.forEach((function(s){s.addEventListener("contextmenu",(function(s){s.preventDefault(),e(s.target)}))}))}}()),C.classList.contains("active-hard")&&O.classList.contains("active-medium")&&location.reload(),O.classList.contains("active-medium")&&y.classList.contains("active-easy")&&location.reload(),C.classList.contains("active-hard")&&y.classList.contains("active-easy")&&location.reload(),C.classList.contains("active-hard")&&y.classList.contains("active-easy")&&O.classList.contains("active-medium")&&location.reload()}))}()}();