!function(){"use strict";var s,t=0;function e(t){if(s=Number(t.getAttribute("id")),!(t.classList.contains("open")||t.classList.contains("flag")||r||t.classList.contains("bomb"))){var a=t.getAttribute("data");if(0!=a)switch(t.innerText=a,t.classList.add("open"),t.classList.add("number"),a){case"1":t.classList.add("one");break;case"2":t.classList.add("two");break;case"3":t.classList.add("three");break;case"4":t.classList.add("four")}!function(s){var t=s%n==0,a=s%n==n-1;setTimeout((function(){if(s+1<=n*n-1&&!a&&!m[s].classList.contains("number")&&!m[s+1].classList.contains("open")&&!m[s+1].classList.contains("flag")&&!m[s+1].classList.contains("bomb")){var i=m[s+1].id;e(document.getElementById(i))}if(s-1>=0&&!t&&!m[s].classList.contains("number")&&!m[s-1].classList.contains("open")&&!m[s-1].classList.contains("flag")&&!m[s-1].classList.contains("bomb")){var c=m[s-1].id;e(document.getElementById(c))}if(s+n<=n*n-1&&!m[s].classList.contains("number")&&!m[s+n].classList.contains("open")&&!m[s+n].classList.contains("flag")&&!m[s+n].classList.contains("bomb")){var d=m[s+n].id;e(document.getElementById(d))}if(s+(n+1)<=n*n-1&&!a&&!m[s].classList.contains("number")&&!m[s+(n+1)].classList.contains("open")&&!m[s+(n+1)].classList.contains("flag")&&!m[s+(n+1)].classList.contains("bomb")){var l=m[s+(n+1)].id;e(document.getElementById(l))}if(s+(n-1)<=n*n-1&&!t&&!m[s].classList.contains("number")&&!m[s+(n-1)].classList.contains("open")&&!m[s+(n-1)].classList.contains("flag")&&!m[s+(n-1)].classList.contains("bomb")){var o=m[s+(n-1)].id;e(document.getElementById(o))}if(s-(n-1)>=0&&!a&&!m[s].classList.contains("number")&&!m[s-(n-1)].classList.contains("open")&&!m[s-(n-1)].classList.contains("flag")&&!m[s-(n-1)].classList.contains("bomb")){var r=m[s-(n-1)].id;e(document.getElementById(r))}if(s-n>=0&&!m[s].classList.contains("number")&&!m[s-n].classList.contains("open")&&!m[s-n].classList.contains("flag")&&!m[s-n].classList.contains("bomb")){var L=m[s-n].id;e(document.getElementById(L))}if(s-(n+1)>=0&&!t&&!m[s].classList.contains("number")&&!m[s-(n+1)].classList.contains("open")&&!m[s-(n+1)].classList.contains("flag")&&!m[s-(n+1)].classList.contains("bomb")){var u=m[s-(n+1)].id;e(document.getElementById(u))}}),50)}(s),m[s].classList.add("open")}}function a(s){var e=document.querySelector(".drawFlag"),a=document.querySelector(".drawBombs");r||!s.classList.contains("open")&&t<i&&(s.classList.contains("flag")?(s.classList.remove("flag"),t--,e.innerText=t,a.innerText=i-t):(s.classList.add("flag"),t++,e.innerText=t,a.innerText=i-t,function(){for(var s=0,t=0;t<m.length;t++)if(m[t].classList.contains("flag")&&m[t].classList.contains("bomb")&&s++,s===i){document.querySelector(".gameSummary").innerText="HOORAY YOU WON!!!";for(var e=0;e<m.length;e++)m[e].classList.add("open")}}()))}var n,i,c,d,l,o=document.body,r=!1,m=[],L=document.createElement("div"),u=document.createElement("header"),f=document.createElement("h1"),b=document.createElement("p"),v=document.createElement("div"),p=document.createElement("div"),h=document.createElement("div"),g=document.createElement("div"),E=document.createElement("div"),T=document.createElement("div"),x=document.createElement("div"),y=document.createElement("div"),_=document.createElement("div"),C=document.createElement("div"),O=document.createElement("div"),S=document.createElement("div"),w=document.createElement("div"),B=document.createElement("div"),k=document.createElement("div"),D=document.createElement("div");function I(){w.classList.contains("active-easy")&&(n=10,i=10,E.innerText=i,A(n,i),m.forEach((function(s){s.addEventListener("click",(function(t){t.preventDefault(),s.classList.contains("bomb")&&(r=!0,b.innerText="BOOM! OOPS YOU LOST!",m.forEach((function(s){s.classList.contains("bomb")&&s.classList.contains("bomb")&&s.classList.add("bomb-open")}))),s.classList.contains("flag")||e(s)}))})),m.forEach((function(s){s.addEventListener("contextmenu",(function(s){s.preventDefault(),a(s.target)}))})))}function A(s,t){c=Array(t).fill("bomb"),d=Array(s*s-t).fill("field"),l=d.concat(c).sort((function(){return Math.random()-.5}));for(var e=0;e<s*s;e++){var a=document.createElement("div");a.classList.add(l[e]),a.setAttribute("id",e),document.querySelector(".minesweeper").appendChild(a),m.push(a)}for(var n=0;n<m.length;n++){var i=0,o=n%s==0,r=n%s==s-1;m[n].classList.contains("field")&&(n-1>=0&&!o&&m[n-1].classList.contains("bomb")&&i++,n+(s-1)<=s*s-1&&!o&&m[n+(s-1)].classList.contains("bomb")&&i++,n-s>=0&&m[n-s].classList.contains("bomb")&&i++,n-(s-1)>=0&&!r&&m[n-(s-1)].classList.contains("bomb")&&i++,n+1<=s*s-1&&!r&&m[n+1].classList.contains("bomb")&&i++,n-(s+1)>=0&&!o&&m[n-(s+1)].classList.contains("bomb")&&i++,n+(s+1)<=s*s-1&&!r&&m[n+(s+1)].classList.contains("bomb")&&i++,n+s<=s*s-1&&m[n+s].classList.contains("bomb")&&i++,m[n].setAttribute("data",i))}}_.addEventListener("click",(function(s){s.preventDefault(),console.log("restart"),function(){var s=document.body.childNodes;console.log(s);for(var t=s.length-1;t>=0;t--)document.body.removeChild(s[t])}(),location.reload()})),S.addEventListener("click",(function(s){s.preventDefault(),s.target.classList.contains("level__easy")&&(w.classList.add("active-easy"),I()),s.target.classList.contains("level__medium")&&(B.classList.add("active-medium"),function(){if(B.classList.contains("active-medium")){n=15,i=15,E.innerText=i,A(n,i);for(var s=0;s<m.length;s++)m[s].classList.contains("field")&&m[s].classList.add("field-medium"),m[s].classList.contains("bomb")&&m[s].classList.add("bomb-medium");m.forEach((function(s){s.addEventListener("click",(function(t){t.preventDefault(),s.classList.contains("bomb")&&(r=!0,b.innerText="BOOM! OOPS YOU LOST!",m.forEach((function(s){s.classList.contains("bomb")&&s.classList.contains("bomb")&&s.classList.add("bomb-open")}))),s.classList.contains("flag")||e(s)}))}))}m.forEach((function(s){s.addEventListener("contextmenu",(function(s){s.preventDefault(),a(s.target)}))}))}()),s.target.classList.contains("level__hard")&&(k.classList.add("active-hard"),function(){if(k.classList.contains("active-hard")){n=25,i=35,E.innerText=i,A(n,i);for(var s=0;s<m.length;s++)m[s].classList.contains("field")&&m[s].classList.add("field-hard"),m[s].classList.contains("bomb")&&m[s].classList.add("bomb-hard");m.forEach((function(s){s.addEventListener("click",(function(t){t.preventDefault(),s.classList.contains("bomb")&&(r=!0,b.innerText="BOOM! OOPS YOU LOST!",m.forEach((function(s){s.classList.contains("bomb")&&s.classList.add("bomb-open")}))),s.classList.contains("flag")||e(s)}))})),m.forEach((function(s){s.addEventListener("contextmenu",(function(s){s.preventDefault(),a(s.target)}))}))}}()),k.classList.contains("active-hard")&&B.classList.contains("active-medium")&&location.reload(),B.classList.contains("active-medium")&&w.classList.contains("active-easy")&&location.reload(),k.classList.contains("active-hard")&&w.classList.contains("active-easy")&&location.reload(),k.classList.contains("active-hard")&&w.classList.contains("active-easy")&&B.classList.contains("active-medium")&&location.reload()})),L.classList.add("container"),o.appendChild(L),u.classList.add("header"),L.appendChild(u),f.classList.add("header__title"),u.appendChild(f),f.innerText="minesweeper",b.classList.add("gameSummary"),u.appendChild(b),b.innerText="Please choose level",v.classList.add("header__wrapper"),u.appendChild(v),p.classList.add("header__flag"),v.appendChild(p),p.innerText="flags",h.classList.add("drawFlag"),p.appendChild(h),h.innerText=0,g.classList.add("header__mines"),v.appendChild(g),g.innerText="mines",E.classList.add("drawBombs"),g.appendChild(E),T.classList.add("header__sound"),v.appendChild(T),T.innerText="sound",x.classList.add("drawSounds"),T.appendChild(x),x.innerText="pull",y.classList.add("header__start"),v.appendChild(y),y.innerText="start",_.classList.add("drawStart"),y.appendChild(_),_.innerText="pull",C.classList.add("header__score"),v.appendChild(C),C.innerText="score",O.classList.add("drawList"),C.appendChild(O),O.innerText="list",S.classList.add("header__level"),v.appendChild(S),S.innerText="level",w.classList.add("level__easy"),S.appendChild(w),w.innerText="easy",B.classList.add("level__medium"),S.appendChild(B),B.innerText="medium",k.classList.add("level__hard"),S.appendChild(k),k.innerText="hard",D.classList.add("minesweeper"),L.appendChild(D),k.classList.contains("active-hard")||w.classList.contains("active-easy")||B.classList.contains("active-medium")||(w.classList.add("active-easy"),I())}();