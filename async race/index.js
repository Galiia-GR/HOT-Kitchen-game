!function(){"use strict";var n,t,e,a,c={230:function(n,t,e){e.d(t,{Lo:function(){return s},Mb:function(){return i},PS:function(){return o},RB:function(){return a},VH:function(){return u},Yk:function(){return r}});const a="http://localhost:3000/garage";let c=0;const o=async(n,t=7)=>{try{const e=await fetch(`${a}?_page=${n}&_limit=${t}`,{method:"GET"});c=Number(e.headers.get("X-Total-count"));const o=e.json(),r=document.querySelector(".garage-count");r&&(r.innerHTML=`${c}`),console.log(o)}catch(n){console.error("Error fetching car data:",n.message)}};o(1);const r=async n=>{try{await fetch(`${a}/${n}`,{method:"DELETE"})}catch(n){console.error("Error fetching car data:",n.message)}},s=async n=>(await fetch(`${a}/${n}`,{method:"GET"})).json(),i=async(n,t)=>{try{await fetch(`${a}/${t}`,{method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}),console.log(n)}catch(n){console.error("Error fetching car data:",n.message)}},u=async n=>{try{await fetch(a,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}})}catch(n){console.error("Error fetching car data:",n.message)}}},398:function(n,t,e){e.a(n,(async function(n,a){try{e.d(t,{K0:function(){return r},b3:function(){return d},tx:function(){return u}});var c=e(510),o=n([c]);c=(o.then?(await o)():o)[0];const r="http://localhost:3000/winners";let s=0,i=0;async function u(n){try{const t=document.querySelector(".win-container"),e=await fetch(n,{method:"GET"});(await e.json()).forEach((n=>{i+=1;const e=(0,c.n9)("tr",`${n.id}`),a=`<td>${i}</td>\n        <td class = "win__look">how car look</td>\n        <td>car name</td>\n        <td>${n.wins}</td>\n        <td>${n.time}</td>`;null==t||t.append(e),e.innerHTML=a}))}catch(n){console.error("Error fetching winnersApi:",n.message)}}async function l(n,t=10){try{const e=await fetch(`${r}?_page=${n}&_limit=${t}`,{method:"GET"});s=Number(e.headers.get("X-Total-count"));const a=await e.json();console.log(a)}catch(n){console.error("Error fetching winners total count:",n.message)}const e=document.querySelector(".winners-count");e&&(e.innerHTML=`${s}`)}await u(r),l(1);const d=async n=>{try{await fetch(`${r}/${n}`,{method:"DELETE"})}catch(n){console.error("Error fetching car data:",n.message)}};a()}catch(p){a(p)}}),1)},379:function(n,t,e){e.a(n,(async function(n,t){try{var a=e(230),c=e(510),o=e(398),r=n([c,o]);[c,o]=r.then?(await r)():r;const s=document.querySelector(".cars-container"),i=document.querySelector(".win-container"),u=document.querySelector(".input-create__input"),l=document.querySelector(".input-create__color"),d=document.querySelector(".input-create__button"),p=document.querySelector(".input-update__input"),h=document.querySelector(".input-update__color"),f=document.querySelector(".input-update__button");let m;function _(){const n=document.querySelector(".garage"),t=document.querySelector(".winners"),e=document.querySelector(".switch__garage"),a=document.querySelector(".switch__winners");null==e||e.addEventListener("click",(()=>{null==n||n.classList.remove("delete"),null==s||s.classList.remove("delete"),null==t||t.classList.add("delete")})),null==a||a.addEventListener("click",(()=>{null==n||n.classList.add("delete"),null==s||s.classList.add("delete"),null==t||t.classList.remove("delete")}))}_(),document.addEventListener("click",(async n=>{const t=n.target;if(t.classList.contains("car-selectors__select")&&(m=Number(t.getAttribute("id")),(0,a.Lo)(m).then((n=>{p.value=n.name,h.value=n.color})).catch((n=>{console.error("Error getting car data:",n.message)})),null==f||f.addEventListener("click",(async()=>{""!==p.value&&(0,a.Mb)({name:p.value,color:h.value},m).then((()=>{s&&(s.innerHTML=""),(0,c.PX)(a.RB)})),p.value=""}))),t.classList.contains("car-selectors__remove")){const n=Number(t.getAttribute("id"));s&&(s.innerHTML=""),(0,a.Yk)(n).then((()=>(0,c.PX)(a.RB))),i&&(i.innerHTML=""),(0,o.b3)(n).then((()=>{(0,o.tx)(o.K0),(0,a.PS)(1)}))}})),null==d||d.addEventListener("click",(async()=>{const n=l.value,t=u.value;""!==t&&((0,a.VH)({name:t,color:n}).then((()=>{s&&(s.innerHTML=""),(0,c.PX)(a.RB),(0,a.PS)(1)})),u.value="")})),t()}catch(g){t(g)}}))},510:function(n,t,e){e.a(n,(async function(n,a){try{function c(n,t){const e=document.createElement(n);return t&&(e.className=t),e}async function o(){const n=document.querySelector("body"),t=c("div","container");null==n||n.append(t),t.innerHTML='\n    <div class="wrapper">\n\n    <div class="switch">\n    <button class="switch__garage">to GARAGE</button>\n    <button class="switch__winners">to WINNERS</button>\n    </div>\n\n    <div class = "garage">\n\n    <div class="input">\n    <div class="input-create__block">\n    <input class="input-create__input">\n    <input type=\'color\' class="input-create__color">\n    <button class="input-create__button">CREATE</button>\n    </div>\n    <div class="input-update__block">\n    <input class="input-update__input">\n    <input type=\'color\' class="input-update__color">\n    <button class="input-update__button">UPDATE</button>\n    </div>\n    </div>\n\n    <div class="input-buttons">\n    <button class="input-button__race">RACE</button>\n    <button class="input-button__reset">RESET</button>\n    <button class="input-button__generate">GENERATE CARS</button>\n    </div>\n\n    <div class="garage-title">\n    <span class="garage-title__main">Garage #<span class = "garage-count"></span></span>\n    <span class="garage-title__page">Page #<span class = "garage-page-count">1</span></span>\n    <div class="pagination">\n        <button class="prev-pagination__button">Prev</button>\n        <button class="next-pagination__button">Next</button>\n      </div>\n    </div>\n\n    <div class="cars-container"></div>\n</div>\n\n<div class="winners delete">\n\n<div class="winners-title">\n    <span class="winners-title__main">Winners #<span class = "winners-count"></span></span>\n    <span class="winners-title__page">Page #<span class = "winners-page-count">1</span></span>\n    <div class="pagination-win">\n    <button class="win-prev-pagination__button">Prev</button>\n    <button class="win-next-pagination__button">Next</button>\n  </div>\n    </div>\n\n    <div class="winners-table__container">\n        <table class="table">\n          <thead>\n            <tr>\n              <th>Number</th>\n              <th>Car</th>\n              <th>Name</th>\n              <th>Wins</th>\n              <th>Best time (seconds)</th>\n            </tr>\n          </thead>\n          <tbody class="win-container">\n          </tbody>\n        </table>\n      </div>\n</div>\n'}function r(){const n=document.querySelector(".container"),t=c("footer","footer");null==n||n.appendChild(t),t.innerHTML='\n  <a class="RSS" href="https://rs.school/js/" target="_blank">\n      <img src="./images/3fc4b04a9808cbde8693.svg" width="94" height="22" alt="RS School" />\n  </a>\n  <p>\n      2023 by Galiia-GR\n      <a href="https://github.com/Galiia-GR" target="_blank">\n          <img src="./images/beb09d6d137067aa9487.svg" width="28" height="28" alt="github"\n      /></a>\n  </p>\n'}e.d(t,{PX:function(){return i},n9:function(){return c}}),o(),r();const s="http://localhost:3000/garage";async function i(n){const t=document.querySelector(".cars-container");try{const e=await fetch(n);(await e.json()).forEach((n=>{const e=c("div","car");t&&e.setAttribute("id",`${n.id}`),null==t||t.append(e);const a=`\n          <div class="car-selectors">\n          <button class="car-selectors__select" id="${n.id}">SELECT</button>\n          <button class="car-selectors__remove" id="${n.id}">REMOVE</button>\n          <button class="car-selectors__start" id="${n.id}">Start</button>\n          <button class="car-selectors__stop" id="${n.id}">Stop</button>\n          </div>\n          <h5 class="car__title">${n.name}</h5>\n          <div class="car__img" id=img-${n.id}>${o=n.color,`<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n  <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 666.55878 236.45138">\n  <g id="layer1" transform="translate(2708.5 468.56)">\n  <g id="g4142">\n  <g fill='${o}'>\n  <path id="path1742" d="m-2536.4-468.56 64.435 0.0538-0.1882 21.21-21.317 0.37635 0.081 21.129 21.183 0.37634 0.3764 21.237 257.77-0.0269 0.1344-21.344 21.398 0.0269 0.215 21.371 64.301 0.18817 0.215 21.317 64.301 0.18817 0.215 21.29 21.317 0.21505-0.027 42.796-21.344 0.21507-0.2151 21.317-64.355-0.0269-0.1344-42.688-21.21-0.45699-0.3763-21.21-85.645 0.0538-0.3764 21.183-21.21 0.37635-0.1344 42.769-258.01-0.0269-0.1344-42.688-21.21-0.45699-0.3763-21.21-85.645 0.0538-0.3764 21.183-21.21 0.37635-0.1344 42.769-42.876-0.0269-0.2419-21.344-21.317-0.21507 0.027-85.806 21.344-0.21506 0.215-21.317 64.301-0.18817 0.2151-21.317 85.806-0.13441 0.215-21.371z"/>\n  <path id="path1744" d="m-2472-468.51h171.91l0.2151 21.344 42.796 0.10753 0.2151 21.398 42.903 0.10753-0.1344 21.344-257.77 0.0269-0.3763-21.237-21.183-0.37634-0.081-21.129 21.317-0.37635 0.1882-21.21z" fill='#0ff'/>\n  <path id="path1812" d="m-2213.9-318.02 42.93-0.0269 0.027 42.93-42.93 0.0269-0.027-42.93zm-387.1 0 42.93-0.0269 0.027 42.93-42.93 0.0269zm365.75-42.93 85.645-0.0538 0.3764 21.21 21.21 0.45699 0.1344 42.688-0.081 42.984-21.371 0.24194-0.2151 21.317-85.806-0.0269-0.2151-21.344-21.317-0.21505-0.081-42.93 0.1344-42.769 21.21-0.37635 0.3764-21.183m21.398 21.425-0.054 21.505h-21.452l-0.027 42.876 21.505 0.0537v21.452l42.876 0.0269 0.054-21.505h21.452l0.027-42.876-21.505-0.0537v-21.452l-42.876-0.0269zm-408.49-21.425 85.645-0.0538 0.3763 21.21 21.21 0.45699 0.1344 42.688-0.081 42.984-21.371 0.24194-0.215 21.317-85.806-0.0269-0.2151-21.344-21.317-0.21505-0.081-42.93 0.1344-42.769 21.21-0.37635 0.3763-21.183m21.398 21.425-0.054 21.505h-21.452l-0.027 42.876 21.505 0.0537v21.452l42.876 0.0269 0.054-21.505h21.452l0.027-42.876-21.505-0.0537v-21.452l-42.876-0.0269z"/>\n  <path id="path1858" d="m-2213.9-275.09 42.93-0.0269-0.054 21.505-42.876-0.0269v-21.452zm-387.1 0 42.93-0.0269-0.054 21.505-42.876-0.0269v-21.452zm430-42.957 21.505 0.0537-0.027 42.876h-21.452l-0.027-42.93zm-64.382 0.0269h21.452l0.027 42.93-21.505-0.0537 0.027-42.876zm-322.71-0.0269 21.505 0.0537-0.027 42.876h-21.452l-0.027-42.93zm-64.382 0.0269h21.452l0.027 42.93-21.505-0.0537 0.027-42.876zm408.6-21.505 42.876 0.0269v21.452l-42.93 0.0269 0.054-21.505zm-387.1 0 42.876 0.0269v21.452l-42.93 0.0269 0.054-21.505z" fill="#c0c0c0"/>\n  </g>\n  </g>\n  </g>\n  </svg>`}</div>\n          <div class="flag" id="flag-${n.id}">ðŸš©</div>`;var o;e.innerHTML=a}))}catch(n){console.error("Error fetching car data:",n.message)}}await i(s),a()}catch(u){a(u)}}),1)},607:function(n,t,e){e.a(n,(async function(n,t){try{var a=e(510),c=(e(230),e(398)),o=e(379),r=n([a,c,o]);[a,c,o]=r.then?(await r)():r,t()}catch(n){t(n)}}))}},o={};function r(n){var t=o[n];if(void 0!==t)return t.exports;var e=o[n]={exports:{}};return c[n](e,e.exports,r),e.exports}n="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",e="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",a=function(n){n&&n.d<1&&(n.d=1,n.forEach((function(n){n.r--})),n.forEach((function(n){n.r--?n.r++:n()})))},r.a=function(c,o,r){var s;r&&((s=[]).d=-1);var i,u,l,d=new Set,p=c.exports,h=new Promise((function(n,t){l=t,u=n}));h[t]=p,h[n]=function(n){s&&n(s),d.forEach(n),h.catch((function(){}))},c.exports=h,o((function(c){var o;i=function(c){return c.map((function(c){if(null!==c&&"object"==typeof c){if(c[n])return c;if(c.then){var o=[];o.d=0,c.then((function(n){r[t]=n,a(o)}),(function(n){r[e]=n,a(o)}));var r={};return r[n]=function(n){n(o)},r}}var s={};return s[n]=function(){},s[t]=c,s}))}(c);var r=function(){return i.map((function(n){if(n[e])throw n[e];return n[t]}))},u=new Promise((function(t){(o=function(){t(r)}).r=0;var e=function(n){n!==s&&!d.has(n)&&(d.add(n),n&&!n.d&&(o.r++,n.push(o)))};i.map((function(t){t[n](e)}))}));return o.r?u:r()}),(function(n){n?l(h[e]=n):u(p),a(s)})),s&&s.d<0&&(s.d=0)},r.d=function(n,t){for(var e in t)r.o(t,e)&&!r.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r(607)}();