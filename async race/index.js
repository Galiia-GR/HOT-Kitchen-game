!function(){"use strict";var n,t,e,a,o={230:function(n,t,e){e.d(t,{Lo:function(){return s},Mb:function(){return i},PS:function(){return c},RB:function(){return a},VH:function(){return u},Yk:function(){return r}});const a="http://localhost:3000/garage";let o=0;const c=async(n,t=7)=>{try{const e=await fetch(`${a}?_page=${n}&_limit=${t}`,{method:"GET"});o=Number(e.headers.get("X-Total-count"));const c=e.json(),r=document.querySelector(".garage-count");r&&(r.innerHTML=`${o}`),console.log(c)}catch(n){console.error("Error fetching car data:",n.message)}};c(1);const r=async n=>{try{await fetch(`${a}/${n}`,{method:"DELETE"})}catch(n){console.error("Error fetching car data:",n.message)}},s=async n=>(await fetch(`${a}/${n}`,{method:"GET"})).json(),i=async(n,t)=>{try{await fetch(`${a}/${t}`,{method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}})}catch(n){console.error("Error fetching car data:",n.message)}},u=async n=>{try{await fetch(a,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}})}catch(n){console.error("Error fetching car data:",n.message)}}},398:function(n,t,e){e.a(n,(async function(n,a){try{e.d(t,{K0:function(){return r},b3:function(){return d},tx:function(){return u}});var o=e(510),c=n([o]);o=(c.then?(await c)():c)[0];const r="http://localhost:3000/winners";let s=0,i=0;async function u(n){try{const t=document.querySelector(".win-container"),e=await fetch(n,{method:"GET"});(await e.json()).forEach((n=>{i+=1;const e=(0,o.n9)("tr",`${n.id}`),a=`<td>${i}</td>\n        <td class = "win__look">how car look</td>\n        <td>car name</td>\n        <td>${n.wins}</td>\n        <td>${n.time}</td>`;null==t||t.append(e),e.innerHTML=a}))}catch(n){console.error("Error fetching winnersApi:",n.message)}}async function l(n,t=10){try{const e=await fetch(`${r}?_page=${n}&_limit=${t}`,{method:"GET"});s=Number(e.headers.get("X-Total-count"));const a=await e.json();console.log(a)}catch(n){console.error("Error fetching winners total count:",n.message)}const e=document.querySelector(".winners-count");e&&(e.innerHTML=`${s}`)}await u(r),l(1);const d=async n=>{try{await fetch(`${r}/${n}`,{method:"DELETE"})}catch(n){console.error("Error fetching car data:",n.message)}};a()}catch(p){a(p)}}),1)},379:function(n,t,e){e.a(n,(async function(n,t){try{var a=e(230),o=e(510),c=e(398),r=e(321),s=n([o,c]);[o,c]=s.then?(await s)():s;const i=document.querySelector(".cars-container"),u=document.querySelector(".win-container"),l=document.querySelector(".input-create__input"),d=document.querySelector(".input-create__color"),p=document.querySelector(".input-create__button"),h=document.querySelector(".input-update__input"),f=document.querySelector(".input-update__color"),m=document.querySelector(".input-update__button"),g=document.querySelector(".input-button__generate");let _;function v(){const n=document.querySelector(".garage"),t=document.querySelector(".winners"),e=document.querySelector(".switch__garage"),a=document.querySelector(".switch__winners");null==e||e.addEventListener("click",(()=>{null==n||n.classList.remove("delete"),null==i||i.classList.remove("delete"),null==t||t.classList.add("delete")})),null==a||a.addEventListener("click",(()=>{null==n||n.classList.add("delete"),null==i||i.classList.add("delete"),null==t||t.classList.remove("delete")}))}v(),document.addEventListener("click",(async n=>{const t=n.target;if(t.classList.contains("car-selectors__select")&&(_=Number(t.getAttribute("id")),(0,a.Lo)(_).then((n=>{h.value=n.name,f.value=n.color})).catch((n=>{console.error("Error getting car data:",n.message)})),null==m||m.addEventListener("click",(async()=>{""!==h.value&&(0,a.Mb)({name:h.value,color:f.value},_).then((()=>{i&&(i.innerHTML=""),(0,o.PX)(a.RB)})),h.value=""}))),t.classList.contains("car-selectors__remove")){const n=Number(t.getAttribute("id"));i&&(i.innerHTML=""),(0,a.Yk)(n).then((()=>(0,o.PX)(a.RB))),u&&(u.innerHTML=""),(0,c.b3)(n).then((()=>{(0,c.tx)(c.K0),(0,a.PS)(1)}))}})),null==p||p.addEventListener("click",(async()=>{const n=d.value,t=l.value;""!==t&&((0,a.VH)({name:t,color:n}).then((()=>{i&&(i.innerHTML=""),(0,o.PX)(a.RB),(0,a.PS)(1)})),l.value="")})),null==g||g.addEventListener("click",(async()=>{for(let n=0;n<100;n++){const n=(0,r.B)(),t=(0,r.p)();(0,a.VH)({name:`${n}`,color:`${t}`})}i&&(i.innerHTML=""),(0,o.PX)(a.RB),(0,a.PS)(1)})),t()}catch(b){t(b)}}))},510:function(n,t,e){e.a(n,(async function(n,a){try{function o(n,t){const e=document.createElement(n);return t&&(e.className=t),e}async function c(){const n=document.querySelector("body"),t=o("div","container");null==n||n.append(t),t.innerHTML='\n    <div class="wrapper">\n\n    <div class="switch">\n    <button class="switch__garage">to GARAGE</button>\n    <button class="switch__winners">to WINNERS</button>\n    </div>\n\n    <div class = "garage">\n\n    <div class="input">\n    <div class="input-create__block">\n    <input class="input-create__input">\n    <input type=\'color\' class="input-create__color">\n    <button class="input-create__button">CREATE</button>\n    </div>\n    <div class="input-update__block">\n    <input class="input-update__input">\n    <input type=\'color\' class="input-update__color">\n    <button class="input-update__button">UPDATE</button>\n    </div>\n    </div>\n\n    <div class="input-buttons">\n    <button class="input-button__race">RACE</button>\n    <button class="input-button__reset">RESET</button>\n    <button class="input-button__generate">GENERATE CARS</button>\n    </div>\n\n    <div class="garage-title">\n    <span class="garage-title__main">Garage #<span class = "garage-count"></span></span>\n    <span class="garage-title__page">Page #<span class = "garage-page-count">1</span></span>\n    <div class="pagination">\n        <button class="prev-pagination__button">Prev</button>\n        <button class="next-pagination__button">Next</button>\n      </div>\n    </div>\n\n    <div class="cars-container"></div>\n</div>\n\n<div class="winners delete">\n\n<div class="winners-title">\n    <span class="winners-title__main">Winners #<span class = "winners-count"></span></span>\n    <span class="winners-title__page">Page #<span class = "winners-page-count">1</span></span>\n    <div class="pagination-win">\n    <button class="win-prev-pagination__button">Prev</button>\n    <button class="win-next-pagination__button">Next</button>\n  </div>\n    </div>\n\n    <div class="winners-table__container">\n        <table class="table">\n          <thead>\n            <tr>\n              <th>Number</th>\n              <th>Car</th>\n              <th>Name</th>\n              <th>Wins</th>\n              <th>Best time (seconds)</th>\n            </tr>\n          </thead>\n          <tbody class="win-container">\n          </tbody>\n        </table>\n      </div>\n</div>\n'}function r(){const n=document.querySelector(".container"),t=o("footer","footer");null==n||n.appendChild(t),t.innerHTML='\n  <a class="RSS" href="https://rs.school/js/" target="_blank">\n      <img src="./images/3fc4b04a9808cbde8693.svg" width="94" height="22" alt="RS School" />\n  </a>\n  <p>\n      2023 by Galiia-GR\n      <a href="https://github.com/Galiia-GR" target="_blank">\n          <img src="./images/beb09d6d137067aa9487.svg" width="28" height="28" alt="github"\n      /></a>\n  </p>\n'}e.d(t,{PX:function(){return i},n9:function(){return o}}),c(),r();const s="http://localhost:3000/garage";async function i(n){const t=document.querySelector(".cars-container");try{const e=await fetch(n);(await e.json()).forEach((n=>{const e=o("div","car");t&&e.setAttribute("id",`${n.id}`),null==t||t.append(e);const a=`\n          <div class="car-selectors">\n          <button class="car-selectors__select" id="${n.id}">SELECT</button>\n          <button class="car-selectors__remove" id="${n.id}">REMOVE</button>\n          <button class="car-selectors__start" id="${n.id}">Start</button>\n          <button class="car-selectors__stop" id="${n.id}">Stop</button>\n          </div>\n          <h5 class="car__title">${n.name}</h5>\n          <div class="car__img" id=img-${n.id}>${c=n.color,`<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n  <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 666.55878 236.45138">\n  <g id="layer1" transform="translate(2708.5 468.56)">\n  <g id="g4142">\n  <g fill='${c}'>\n  <path id="path1742" d="m-2536.4-468.56 64.435 0.0538-0.1882 21.21-21.317 0.37635 0.081 21.129 21.183 0.37634 0.3764 21.237 257.77-0.0269 0.1344-21.344 21.398 0.0269 0.215 21.371 64.301 0.18817 0.215 21.317 64.301 0.18817 0.215 21.29 21.317 0.21505-0.027 42.796-21.344 0.21507-0.2151 21.317-64.355-0.0269-0.1344-42.688-21.21-0.45699-0.3763-21.21-85.645 0.0538-0.3764 21.183-21.21 0.37635-0.1344 42.769-258.01-0.0269-0.1344-42.688-21.21-0.45699-0.3763-21.21-85.645 0.0538-0.3764 21.183-21.21 0.37635-0.1344 42.769-42.876-0.0269-0.2419-21.344-21.317-0.21507 0.027-85.806 21.344-0.21506 0.215-21.317 64.301-0.18817 0.2151-21.317 85.806-0.13441 0.215-21.371z"/>\n  <path id="path1744" d="m-2472-468.51h171.91l0.2151 21.344 42.796 0.10753 0.2151 21.398 42.903 0.10753-0.1344 21.344-257.77 0.0269-0.3763-21.237-21.183-0.37634-0.081-21.129 21.317-0.37635 0.1882-21.21z" fill='#0ff'/>\n  <path id="path1812" d="m-2213.9-318.02 42.93-0.0269 0.027 42.93-42.93 0.0269-0.027-42.93zm-387.1 0 42.93-0.0269 0.027 42.93-42.93 0.0269zm365.75-42.93 85.645-0.0538 0.3764 21.21 21.21 0.45699 0.1344 42.688-0.081 42.984-21.371 0.24194-0.2151 21.317-85.806-0.0269-0.2151-21.344-21.317-0.21505-0.081-42.93 0.1344-42.769 21.21-0.37635 0.3764-21.183m21.398 21.425-0.054 21.505h-21.452l-0.027 42.876 21.505 0.0537v21.452l42.876 0.0269 0.054-21.505h21.452l0.027-42.876-21.505-0.0537v-21.452l-42.876-0.0269zm-408.49-21.425 85.645-0.0538 0.3763 21.21 21.21 0.45699 0.1344 42.688-0.081 42.984-21.371 0.24194-0.215 21.317-85.806-0.0269-0.2151-21.344-21.317-0.21505-0.081-42.93 0.1344-42.769 21.21-0.37635 0.3763-21.183m21.398 21.425-0.054 21.505h-21.452l-0.027 42.876 21.505 0.0537v21.452l42.876 0.0269 0.054-21.505h21.452l0.027-42.876-21.505-0.0537v-21.452l-42.876-0.0269z"/>\n  <path id="path1858" d="m-2213.9-275.09 42.93-0.0269-0.054 21.505-42.876-0.0269v-21.452zm-387.1 0 42.93-0.0269-0.054 21.505-42.876-0.0269v-21.452zm430-42.957 21.505 0.0537-0.027 42.876h-21.452l-0.027-42.93zm-64.382 0.0269h21.452l0.027 42.93-21.505-0.0537 0.027-42.876zm-322.71-0.0269 21.505 0.0537-0.027 42.876h-21.452l-0.027-42.93zm-64.382 0.0269h21.452l0.027 42.93-21.505-0.0537 0.027-42.876zm408.6-21.505 42.876 0.0269v21.452l-42.93 0.0269 0.054-21.505zm-387.1 0 42.876 0.0269v21.452l-42.93 0.0269 0.054-21.505z" fill="#c0c0c0"/>\n  </g>\n  </g>\n  </g>\n  </svg>`}</div>\n          <div class="flag" id="flag-${n.id}">🚩</div>`;var c;e.innerHTML=a}))}catch(n){console.error("Error fetching car data:",n.message)}}await i(s),a()}catch(u){a(u)}}),1)},330:function(n,t,e){let a;document.addEventListener("click",(async n=>{const t=n.target;console.log(t),t.classList.contains("car-selectors__start")&&(a=Number(t.getAttribute("id")),console.log(a))}))},321:function(n,t,e){function a(){const n=Math.floor(15*Math.random()),t=Math.floor(15*Math.random());return`${["Audi","Ford","Ferrari","Honda","Hyundai","Infiniti","Jeep","Kamaz","Nissan","Opel","Škoda","Suzuki","Tesla","Toyota","Volvo"][n]} ${["X5","GT4","Priora","4x4","Rio","Focus","Kalina","Nexia","Matiz","Captiva","A5","TT","Corolla","Camry","RAV4"][t]}`}function o(){const n=[0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F"];let t="";for(let e=1;e<7;e++)t+=n[Math.floor(Math.random()*n.length)];return`#${t}`}e.d(t,{B:function(){return a},p:function(){return o}})},607:function(n,t,e){e.a(n,(async function(n,t){try{var a=e(510),o=(e(230),e(398)),c=e(379),r=(e(330),n([a,o,c]));[a,o,c]=r.then?(await r)():r,t()}catch(n){t(n)}}))}},c={};function r(n){var t=c[n];if(void 0!==t)return t.exports;var e=c[n]={exports:{}};return o[n](e,e.exports,r),e.exports}n="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",e="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",a=function(n){n&&n.d<1&&(n.d=1,n.forEach((function(n){n.r--})),n.forEach((function(n){n.r--?n.r++:n()})))},r.a=function(o,c,r){var s;r&&((s=[]).d=-1);var i,u,l,d=new Set,p=o.exports,h=new Promise((function(n,t){l=t,u=n}));h[t]=p,h[n]=function(n){s&&n(s),d.forEach(n),h.catch((function(){}))},o.exports=h,c((function(o){var c;i=function(o){return o.map((function(o){if(null!==o&&"object"==typeof o){if(o[n])return o;if(o.then){var c=[];c.d=0,o.then((function(n){r[t]=n,a(c)}),(function(n){r[e]=n,a(c)}));var r={};return r[n]=function(n){n(c)},r}}var s={};return s[n]=function(){},s[t]=o,s}))}(o);var r=function(){return i.map((function(n){if(n[e])throw n[e];return n[t]}))},u=new Promise((function(t){(c=function(){t(r)}).r=0;var e=function(n){n!==s&&!d.has(n)&&(d.add(n),n&&!n.d&&(c.r++,n.push(c)))};i.map((function(t){t[n](e)}))}));return c.r?u:r()}),(function(n){n?l(h[e]=n):u(p),a(s)})),s&&s.d<0&&(s.d=0)},r.d=function(n,t){for(var e in t)r.o(t,e)&&!r.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r(607)}();